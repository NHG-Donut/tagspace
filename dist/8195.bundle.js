"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[8195],{96102:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var l=a(74848),n=a(87729),r=a(38291),s=a(45575),i=a(34120),d=a(70704),o=a(50456),c=a(6668),g=a(79101),h=a(55370),p=a(25418),u=a(30073),A=a(7527),T=a(12070),x=a(49565),m=a(35124),j=a(53356),v=a(22944),f=a(77118),C=a(96540),b=a(32389),k=a(22335),w=a(73989);const F=function(e){const{t}=(0,b.Bd)(),{open:a,selected:F}=e,{findLocation:y}=(0,d.L)(),{addTagsToFsEntries:E,removeTags:M}=(0,o.f)(),{selectedEntries:D}=(0,w._)(),[R,S]=(0,C.useState)([]),O=(0,C.useRef)([]),[I,L]=(0,C.useReducer)(e=>e+1,0,void 0),N=y(),B=F||D;function H(e){return e.reduce((e,t)=>(e.some(e=>e.title===t.title)||e.push(t),e),[])}const P=t=>{S([]),e.onClose(t)},W=!R&&!O.current||R.length<1&&O.current.length<1||B.length<1,X=(0,j.A)(),Y=(0,v.A)(X.breakpoints.down("md"));return(0,l.jsxs)(h.A,{open:a,fullScreen:Y,onClose:P,keepMounted:!0,scroll:"paper",PaperComponent:Y?x.A:n.A,"aria-labelledby":"draggable-dialog-title",children:[(0,l.jsx)(i.A,{dialogTitle:t("core:tagOperationTitle"),closeButtonTestId:"closeAddRemoveTagsTID",onClose:P}),(0,l.jsxs)(p.A,{style:{minHeight:330,paddingTop:10,overflowY:"auto",overflowX:"hidden"},children:[(0,l.jsx)(k.A,{dataTid:"AddRemoveTagsSelectTID",placeholderText:t("core:selectTags"),label:t("core:fileTags"),tags:R,handleChange:(e,t,a)=>{if("remove-value"===a){const e=t.map(e=>e.title);S(R.filter(t=>!e.includes(t.title)))}else S(t)},handleNewTags:e=>{void 0===e?O.current.length>0&&S(H([...R,...O.current])):(O.current=e,L())},tagMode:"remove",autoFocus:!0}),(0,l.jsx)(m.A,{style:{marginTop:10},variant:"subtitle2",children:t("selectedFilesAndFolders")}),(0,l.jsx)(u.A,{dense:!0,style:{width:550,marginLeft:-15},children:B.length>0&&B.map(e=>(0,l.jsxs)(A.Ay,{title:e.path,children:[(0,l.jsx)(T.A,{children:e.isFile?(0,l.jsx)(g.A,{}):(0,l.jsx)(c.A,{})}),(0,l.jsx)(m.A,{variant:"inherit",noWrap:!0,children:e.isFile?(0,f.extractFileName)(e.path||"",N?.getDirSeparator()):(0,f.extractDirectoryName)(e.path||"",N?.getDirSeparator())})]},e.path))})]}),(0,l.jsxs)(s.A,{children:[(0,l.jsx)(r.A,{"data-tid":"cancelTagsMultipleEntries",onClick:()=>P(),children:t("core:cancel")}),(0,l.jsx)(r.A,{"data-tid":"cleanTagsMultipleEntries",disabled:B.length<1,onClick:()=>{B&&B.length>0&&M(B),P(!0)},children:t("core:tagOperationCleanTags")}),(0,l.jsx)(r.A,{"data-tid":"removeTagsMultipleEntries",disabled:W,onClick:()=>{B&&B.length>0&&M(B,[...R,...O.current]),P(!0)},children:t("core:tagOperationRemoveTag")}),(0,l.jsx)(r.A,{"data-tid":"addTagsMultipleEntries",disabled:W,variant:"contained",onClick:()=>{B&&B.length>0&&E(B,H([...R,...O.current])),P(!0)},children:t("core:tagOperationAddTag")})]})]})}}}]);
//# sourceMappingURL=8195.bundle.js.map