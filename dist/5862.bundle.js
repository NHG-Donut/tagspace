"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[5862],{49500:(e,t,a)=>{a.r(t),a.d(t,{default:()=>me});var n=a(74848),s=a(96488),o=a(32535),i=a(87729),r=a(41244),l=a(48373),c=a(38291),d=a(7544),u=a(8039),h=a(10812),x=a(75769),p=a(16290);const g=(0,p.A)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),m=(0,p.A)((0,n.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var A=a(45786),j=a(91799),y=a(87714),f=a(85342),b=a(88634),C=a(32389);const T=["us-east-2","us-east-1","us-west-1","us-west-2","af-south-1","ap-south-1","ap-northeast-3","ap-northeast-2","ap-southeast-1","ap-southeast-2","ap-northeast-1","ca-central-1","eu-central-1","eu-west-1","eu-west-2","eu-south-1","eu-west-3","eu-north-1","me-south-1","sa-east-1"],v=function(e){const{setShowSecretAccessKey:t,cloudErrorTextName:a,cloudErrorTextPath:s,cloudErrorAccessKey:o,cloudErrorSecretAccessKey:i,cloudErrorBucketName:r,cloudErrorRegion:l,showSecretAccessKey:c,storeName:u,storePath:x,accessKeyId:p,secretAccessKey:v,sessionToken:L,bucketName:P,region:I,endpointURL:S,setStoreName:w,setStorePath:k,setAccessKeyId:D,setSecretAccessKey:E,setSessionToken:F,setBucketName:N,setEndpointURL:R,setRegion:K}=e,{t:O}=(0,C.Bd)();function W(e,t,a){("input"===a||"selectOption"===a)&&K(t),"clear"===a&&K("")}return(0,n.jsxs)(f.A,{container:!0,children:[(0,n.jsx)(f.A,{size:12,children:(0,n.jsxs)(j.A,{fullWidth:!0,children:[(0,n.jsx)(h.A,{required:!0,autoFocus:!0,name:"storeName",slotProps:{input:{autoCorrect:"off"}},"data-tid":"locationName",onChange:e=>w(e.target.value),value:u,label:O("core:createLocationName")+" *"}),a&&(0,n.jsx)(y.A,{style:{marginLeft:0,marginTop:0,marginBottom:10},children:O("core:invalidName")})]})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsxs)(j.A,{fullWidth:!0,children:[(0,n.jsx)(h.A,{name:"storePath",slotProps:{input:{autoCorrect:"off",autoCapitalize:"none"}},"data-tid":"locationPath",onChange:e=>k(e.target.value),value:x,label:O("core:createLocationPath")}),s&&(0,n.jsx)(y.A,{style:{marginLeft:0,marginTop:0,marginBottom:10},children:O("core:invalidPath")})]})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsxs)(j.A,{fullWidth:!0,children:[(0,n.jsx)(h.A,{required:!0,name:"accessKeyId","data-tid":"accessKeyId",slotProps:{input:{autoCorrect:"off",autoCapitalize:"none"}},onChange:e=>D(e.target.value),value:p,label:O("core:accessKeyId")+" *"}),o&&(0,n.jsx)(y.A,{style:{marginLeft:0,marginTop:0,marginBottom:10},children:O("core:invalidAccessKey")})]})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(h.A,{required:!0,name:"secretAccessKey",type:c?"text":"password","data-tid":"secretAccessKey",onChange:e=>E(e.target.value),value:v,label:O("core:secretAccessKey")+" *",slotProps:{input:{autoCorrect:"off",autoCapitalize:"none",endAdornment:(0,n.jsx)(b.A,{position:"end",children:(0,n.jsx)(d.A,{tooltip:O("toggleKeyVisibility"),"aria-label":"toggle password visibility",onClick:()=>t(!c),children:c?(0,n.jsx)(g,{}):(0,n.jsx)(m,{})})})}}})})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(h.A,{name:"sessionToken","data-tid":"sessionTokenTID",slotProps:{input:{autoCorrect:"off",autoCapitalize:"none"}},onChange:e=>F(e.target.value),value:L,label:O("core:sessionToken")})})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsx)(j.A,{fullWidth:!0,error:r,children:(0,n.jsx)(h.A,{name:"bucketName","data-tid":"bucketName",slotProps:{input:{autoCorrect:"off",autoCapitalize:"none"}},onChange:e=>N(e.target.value),value:P,label:O("core:bucketName")})})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(h.A,{name:"endpointURL","data-tid":"endpointURL",placeholder:O("s3serviceURL"),onChange:e=>R(e.target.value),value:S,label:O("core:endpointURL")})})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsx)(j.A,{fullWidth:!0,error:l,children:(0,n.jsx)(A.A,{options:T,value:I,freeSolo:!0,onChange:W,onInputChange:W,renderInput:e=>(0,n.jsx)(h.A,{...e,label:O("core:regionSearch"),"data-tid":"regionTID",placeholder:O("core:regionSearch"),margin:"normal"})})})})]})};var L=a(45575),P=a(34120),I=a(55415),S=a(37603),w=a(49068),k=a(58132);const D=function(e){const{errorTextName:t,webdavErrorUrl:a,setName:s,setUserName:o,setPassword:i,setEndpointURL:r,userName:l,password:c,endpointURL:u,name:h,showPassword:x,setShowPassword:p,authType:A,setAuthType:y,secretAccessKey:T,setSecretAccessKey:v}=e,{t:L}=(0,C.Bd)(),P={None:"none",Basic:"password",Digest:"digest",Token:"token"};return(0,n.jsxs)(f.A,{container:!0,direction:"column",spacing:1,children:[(0,n.jsx)(f.A,{children:(0,n.jsx)(j.A,{fullWidth:!0,error:t,children:(0,n.jsx)(k.A,{required:!0,margin:"dense",name:"name",slotProps:{input:{autoCorrect:"off"}},onChange:e=>s(e.target.value),value:h,label:L("core:createLocationName"),"data-tid":"locationName",fullWidth:!0})})}),(0,n.jsx)(f.A,{children:(0,n.jsxs)(j.A,{fullWidth:!0,error:t,children:[(0,n.jsx)(w.A,{id:"AuthID",children:L("core:WebdavAuth")}),(0,n.jsx)(I.A,{labelId:"AuthID",id:"AuthTypeID",value:A,label:L("core:WebdavAuth"),onChange:e=>y(e.target.value),children:Object.keys(P).map(e=>(0,n.jsx)(S.A,{value:P[e],children:e},e))})]})}),(A===P.Basic||A===P.Digest)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(k.A,{margin:"dense",name:"userNameId",fullWidth:!0,"data-tid":"userNameIdTID",slotProps:{input:{autoCorrect:"off",autoCapitalize:"none"}},onChange:e=>o(e.target.value),label:L("core:userName"),value:l})})}),(0,n.jsx)(f.A,{children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(k.A,{margin:"dense",name:"password",type:x?"text":"password",fullWidth:!0,"data-tid":"passwordTID",onChange:e=>i(e.target.value),value:c,label:L("core:password"),slotProps:{input:{autoCorrect:"off",autoCapitalize:"none",endAdornment:(0,n.jsx)(b.A,{position:"end",children:(0,n.jsx)(d.A,{"aria-label":"toggle password visibility",onClick:()=>p(!x),children:x?(0,n.jsx)(g,{}):(0,n.jsx)(m,{})})})}}})})})]}),A===P.Token&&(0,n.jsx)(f.A,{children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(k.A,{margin:"dense",name:"webDavToken",type:x?"text":"password",fullWidth:!0,"data-tid":"webDavToken",onChange:e=>v(e.target.value),value:T,label:L("core:webDavToken"),slotProps:{input:{autoCorrect:"off",autoCapitalize:"none",endAdornment:(0,n.jsx)(b.A,{position:"end",children:(0,n.jsx)(d.A,{"aria-label":"toggle password visibility",onClick:()=>p(!x),children:x?(0,n.jsx)(g,{}):(0,n.jsx)(m,{})})})}}})})}),(0,n.jsx)(f.A,{children:(0,n.jsx)(j.A,{fullWidth:!0,error:a,children:(0,n.jsx)(k.A,{margin:"dense",name:"endpointURL",fullWidth:!0,"data-tid":"endpointURL",placeholder:L("webdavServiceURL"),onChange:e=>r(e.target.value),value:u,label:L("core:endpointURL")})})})]})};var E=a(70704),F=a(53431),N=a(69605),R=a(73357),K=a(19825),O=a(14970),W=a(33913),U=a(62796),B=a(63410);const z=(0,p.A)((0,n.jsx)("path",{d:"M2 17h20v2H2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23z"}),"Password");var Y=a(77722),_=a(37786),M=a(59636),H=a(43760),V=a(55370),q=a(25418),G=a(87788),J=a(82181),X=a(30073),Q=a(7527),$=a(12070),Z=a(16738),ee=a(49565),te=a(76320),ae=a(78377),ne=a(35124),se=a(53356),oe=a(22944),ie=a(67172),re=a(74120),le=a(21396),ce=a.n(le),de=a(96540),ue=a(69733),he=a(86735),xe=a(2788),pe=a(77118);const ge=function(e){const{errorTextPath:t,errorTextName:a,setName:i,setPath:r,path:l,name:c}=e,{t:u}=(0,C.Bd)(),{findLocation:x}=(0,E.L)();return(0,n.jsxs)(f.A,{container:!0,children:[(0,n.jsx)(f.A,{size:12,children:(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(h.A,{required:!0,autoFocus:!0,name:"name",slotProps:{input:{autoCorrect:"off"}},onChange:e=>i(e.target.value),value:c,"data-tid":"locationName",label:u("core:createLocationName")+" *"})})}),(0,n.jsx)(f.A,{size:12,children:(0,n.jsxs)(j.A,{fullWidth:!0,children:[(0,n.jsx)(h.A,{required:!0,name:"path","data-tid":"locationPath",onChange:e=>r(e.target.value),value:l,slotProps:{input:{autoCorrect:"off",autoCapitalize:"none",endAdornment:(0,n.jsx)(b.A,{position:"end",style:{height:32},children:(0,n.jsx)(d.A,{onClick:()=>{(0,xe.gF)().then(e=>{if(e&&e.length>0){const t=decodeURI(e[0]);if(r(t),c.length<1&&t.length>0){const e=x(),a=(0,pe.extractDirectoryName)(t,e?.getDirSeparator());i(a.charAt(0).toUpperCase()+a.slice(1))}}return!0}).catch(e=>{console.log("selectDirectoryDialog failed with: "+e)})},children:(0,n.jsx)(o.sj,{})})})}},label:u("core:createLocationPath")+" *"}),s.A.isCordovaAndroid&&(0,n.jsx)(y.A,{children:"Examples: sdcard/DCIM, sdcard/Downloads or /storage/899D-1617 for ext. sd-card"})]})})]})},me=function(e){const{t}=(0,C.Bd)(),{showNotification:a,openConfirmDialog:p}=(0,N.M)(),{createLocationIndex:A}=(0,F.Y)(),{loadLocationDataPromise:y}=(0,R.o)(),{addLocation:f,editLocation:T,selectedLocation:I,findLocation:w}=(0,E.L)(),k=(0,ue.d4)(O.Q$),le=(0,ue.d4)(O.n),xe=!(!K.C||!K.C.UI)&&K.C.UI.IgnorePatternDialog,[pe,me]=(0,de.useState)(!1),[Ae,je]=(0,de.useState)(!1),[ye,fe]=(0,de.useState)(!1),[be,Ce]=(0,de.useState)(!1),[Te,ve]=(0,de.useState)(!1),[Le,Pe]=(0,de.useState)(I&&I.name?I.name:""),[Ie,Se]=(0,de.useState)(I&&I.username?I.username:""),[we,ke]=(0,de.useState)(I&&I.password?I.password:"");let De=s.A.maxIndexAge;if(I&&I.maxIndexAge&&I.maxIndexAge>0){const e=I.maxIndexAge+"";De=parseInt(e,10)}const[Ee,Fe]=(0,de.useState)(De);let Ne=s.A.maxLoops;if(I&&I.maxLoops&&I.maxLoops>0){const e=I.maxLoops+"";Ne=parseInt(e,10)}const[Re,Ke]=(0,de.useState)(Ne),[Oe,We]=(0,de.useState)(I&&I.name?I.name:""),[Ue,Be]=(0,de.useState)(I&&(I.path||I.paths)?I.path||I.paths[0]:""),[ze,Ye]=(0,de.useState)(I&&(I.path||I.paths)?I.path||I.paths[0]:""),[_e,Me]=(0,de.useState)(I?I.endpointURL:""),[He,Ve]=(0,de.useState)(I&&I.encryptionKey?I.encryptionKey:void 0),[qe,Ge]=(0,de.useState)("password"),[Je,Xe]=(0,de.useState)(!!I&&I.isDefault),[Qe,$e]=(0,de.useState)(!!I&&I.isReadOnly),[Ze,et]=(0,de.useState)(!!I&&I.watchForChanges),[tt,at]=(0,de.useState)(!!I&&I.disableIndexing),[nt,st]=(0,de.useState)(!!I&&I.reloadOnFocus),[ot,it]=(0,de.useState)(!!I&&I.disableThumbnailGeneration),[rt,lt]=(0,de.useState)(!!I&&I.fullTextIndex),[ct,dt]=(0,de.useState)(!!I&&I.extractLinks),[ut,ht]=(0,de.useState)(I?I.accessKeyId:""),[xt,pt]=(0,de.useState)(I?I.secretAccessKey:""),[gt,mt]=(0,de.useState)(I?I.sessionToken:void 0),[At,jt]=(0,de.useState)(I?I.bucketName:""),[yt,ft]=(0,de.useState)(I&&void 0!==I.persistTagsInSidecarFile?I.persistTagsInSidecarFile:null),[bt,Ct]=(0,de.useState)(I?I.region:"");let Tt;Tt=I?I.type:s.A.isWeb?ie.locationType.TYPE_CLOUD:ie.locationType.TYPE_LOCAL;const[vt,Lt]=(0,de.useState)(Tt),[Pt,It]=(0,de.useState)(I?I.uuid:(0,re.getUuid)()),[St,wt]=(0,de.useState)(I?I.autoOpenedFilename:void 0),[kt,Dt]=(0,de.useState)(!1),[Et,Ft]=(0,de.useState)(!1),[Nt,Rt]=(0,de.useState)(!1),[Kt,Ot]=(0,de.useState)(!1),[Wt,Ut]=(0,de.useState)(I?I.ignorePatternPaths:void 0),[Bt,zt]=(0,de.useState)(!1),Yt=(0,U.A)();function _t(e){w(e)?a("Location with this ID already exists","error"):It(e)}(0,de.useEffect)(()=>{Yt||Mt()},[Oe,ut,xt]),(0,de.useEffect)(()=>{Yt||Ht()},[Le,Ue]);const Mt=(e=!1)=>{if(Oe&&0!==Oe.length)e||Dt(!1);else{if(e)return!0;Dt(!0)}if(ut&&0!==ut.length)e||Rt(!1);else{if(e)return!0;Rt(!0)}if(xt&&0!==xt.length)e||Ot(!1);else{if(e)return!0;Ot(!0)}if(He&&He.length<32){if(e)return!0;Ot(!0)}else e||Ot(!1);return!1},Ht=(e=!1)=>{if(Le&&0!==Le.length)e||ve(!1);else{if(e)return!0;ve(!0)}if(Ue&&0!==Ue.length)e||Ce(!1);else{if(e)return!0;Ce(!0)}return!1},Vt=()=>vt===ie.locationType.TYPE_LOCAL?Te||be||Ht(!0):vt===ie.locationType.TYPE_WEBDAV?Te||((e=!1)=>{if(Le&&0!==Le.length)e||ve(!1);else{if(e)return!0;ve(!0)}if(_e&&0!==_e.length)e||Ft(!1);else{if(e)return!0;Ft(!0)}return!1})(!0):kt||Nt||Kt||Mt(!0),{open:qt,onClose:Gt}=e,Jt=()=>{vt===ie.locationType.TYPE_CLOUD&&I&&He!==I.encryptionKey?p(t("core:confirm"),t("core:confirmEncryptionChanged"),e=>{e&&Xt()},"cancelConfirmEncryptionChanged","confirmConfirmEncryptionChanged","confirmConfirmEncryptionChangedContent"):Xt()},Xt=()=>{if(!Vt()){let t,a;if(vt===ie.locationType.TYPE_LOCAL?t={uuid:I?I.uuid:Pt,type:vt,name:Le,path:Ue,paths:[Ue],isDefault:Je,isReadOnly:Qe,disableIndexing:tt,reloadOnFocus:nt,disableThumbnailGeneration:ot,fullTextIndex:rt,extractLinks:ct,watchForChanges:Ze,maxIndexAge:Ee,ignorePatternPaths:Wt,autoOpenedFilename:St}:vt===ie.locationType.TYPE_WEBDAV?t={uuid:I?I.uuid:Pt,type:vt,authType:qe,name:Le,username:Ie,password:we,secretAccessKey:xt,endpointURL:_e,isDefault:Je,isReadOnly:Qe,disableIndexing:tt,reloadOnFocus:nt,disableThumbnailGeneration:ot,fullTextIndex:rt,extractLinks:ct,watchForChanges:Ze,maxIndexAge:Ee,ignorePatternPaths:Wt,autoOpenedFilename:St}:vt===ie.locationType.TYPE_CLOUD&&(t={uuid:I?I.uuid:Pt,type:vt,name:Oe,path:ze,paths:[ze],endpointURL:_e,encryptionKey:He,accessKeyId:ut,secretAccessKey:xt,sessionToken:gt,bucketName:At,region:bt,isDefault:Je,isReadOnly:Qe,disableIndexing:tt,reloadOnFocus:nt,disableThumbnailGeneration:ot,fullTextIndex:rt,extractLinks:ct,watchForChanges:!1,maxIndexAge:Ee,maxLoops:Re,ignorePatternPaths:Wt,autoOpenedFilename:St}),null!==yt&&(t={...t,persistTagsInSidecarFile:yt}),I)t.newuuid=Pt,a=new W.J(t),T(a);else{const a=new W.J(t);(e=a,y(e,s.A.metaFolderFile).then(e=>{if(e&&e.id&&!w(e.id))return e.id}).catch(t=>{console.debug("no meta in location:"+e.path)})).then(e=>{e&&(a.uuid=e),f(a)})}I&&JSON.stringify(I.ignorePatternPaths)!==JSON.stringify(t.ignorePatternPaths)&&A(a),Gt()}var e};let Qt;Qt=vt===ie.locationType.TYPE_CLOUD?(0,n.jsx)(v,{cloudErrorTextName:kt,cloudErrorTextPath:!1,cloudErrorAccessKey:Nt,cloudErrorSecretAccessKey:Kt,cloudErrorBucketName:!1,cloudErrorRegion:!1,showSecretAccessKey:pe,storeName:Oe,storePath:ze,accessKeyId:ut,secretAccessKey:xt,sessionToken:gt,setShowSecretAccessKey:me,bucketName:At,region:bt,endpointURL:_e,setStoreName:We,setStorePath:Ye,setAccessKeyId:ht,setSecretAccessKey:pt,setSessionToken:mt,setBucketName:jt,setEndpointURL:Me,setRegion:Ct}):vt===ie.locationType.TYPE_WEBDAV?(0,n.jsx)(D,{errorTextName:Te,setName:Pe,setUserName:Se,setPassword:ke,setEndpointURL:Me,endpointURL:_e,name:Le,userName:Ie,password:we,setShowPassword:fe,showPassword:ye,webdavErrorUrl:Et,authType:qe,setAuthType:Ge,secretAccessKey:xt,setSecretAccessKey:pt}):(0,n.jsx)(ge,{errorTextPath:be,errorTextName:Te,setName:Pe,setPath:Be,path:Ue,name:Le});const $t=I&&null!==I.persistTagsInSidecarFile?I.persistTagsInSidecarFile:k,Zt=void 0!==I,ea=(0,se.A)(),ta=(0,oe.A)(ea.breakpoints.down("md"));let aa=t("core:localLocation");Tt===ie.locationType.TYPE_CLOUD&&(aa=t("core:objectStorage"));const na=(0,n.jsx)(c.A,{disabled:Vt(),onClick:Jt,"data-tid":"confirmLocationCreation",variant:"contained",style:{WebkitAppRegion:"no-drag"},children:t("core:ok")});return(0,n.jsxs)(V.A,{open:qt,onClose:Gt,fullScreen:ta,keepMounted:!0,scroll:"paper",PaperComponent:ta?ee.A:i.A,"aria-labelledby":"draggable-dialog-title",onKeyDown:e=>{"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),Jt())},children:[(0,n.jsx)(P.A,{dialogTitle:t(I?"core:editLocationTitle":"core:createLocationTitle"),closeButtonTestId:"closeCreateEditLocationTID",onClose:Gt,actionSlot:na}),(0,n.jsxs)(q.A,{style:{overflow:"auto",minHeight:200,padding:8},children:[I&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ne.A,{style:{display:"block",marginTop:-5,marginLeft:15},variant:"overline",children:t("core:locationType")+": "+aa})}),(0,n.jsx)(Y.A,{defaultExpanded:!0,children:(0,n.jsx)(_.A,{style:{paddingTop:16},children:(0,n.jsxs)(J.A,{children:[!I&&(0,n.jsx)(j.A,{disabled:Zt,fullWidth:!0,children:(0,n.jsxs)(u.A,{"data-tid":"locationTypeTID",value:vt,label:t("core:locationType"),onChange:e=>Lt(e.target.value),children:[!s.A.isWeb&&(0,n.jsx)(S.A,{value:ie.locationType.TYPE_LOCAL,"data-tid":"localLocationTID",children:t("core:localLocation")},"TYPE_LOCAL"),(0,n.jsx)(S.A,{value:ie.locationType.TYPE_CLOUD,"data-tid":"cloudLocationTID",children:t("core:objectStorage")+" (AWS, MinIO, Wasabi,...)"},"TYPE_CLOUD"),K.C&&le&&(0,n.jsx)(S.A,{value:ie.locationType.TYPE_WEBDAV,"data-tid":"webdavLocationTID",children:t("core:webdavLocation")+" (experimental)"},"TYPE_WEBDAV")]})}),Qt,(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{"data-tid":"locationIsDefault",name:"isDefault",checked:Je,onChange:e=>Xe(e.target.checked)}),label:t("core:startupLocation")}),(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{disabled:!K.C,"data-tid":"changeFullTextIndex",name:"fullTextIndex",checked:rt,onChange:e=>{lt(e.target.checked),e.target.checked&&I&&p(t("core:confirm"),t("core:fullTextIndexRegenerate"),e=>{e&&A(I)},"cancelReIndexDialogTID","confirmReIndexDialogTID","confirmDialogContentTID")}}),label:(0,n.jsxs)(n.Fragment,{children:[t("core:createFullTextIndex")+" (TXT, HTML, MD, PDF)",K.C?(0,n.jsx)(r.Xc,{}):(0,n.jsx)(r.ad,{})]})}),rt&&(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{disabled:!K.C,"data-tid":"extractLinksTID",name:"extractLinks",checked:ct,onChange:e=>{dt(e.target.checked)}}),label:(0,n.jsxs)(n.Fragment,{children:[t("core:extractLinks"),K.C?(0,n.jsx)(r.Xc,{}):(0,n.jsx)(r.ad,{})]})}),(0,n.jsx)(G.A,{disabled:!K.C||vt===ie.locationType.TYPE_CLOUD||s.A.isCordova,labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{"data-tid":"changeWatchForChanges",name:"watchForChanges",checked:Ze,onChange:e=>et(e.target.checked)}),label:(0,n.jsxs)(n.Fragment,{children:[t("core:watchForChangesInLocation"),!K.C&&(0,n.jsx)(r.ad,{})]})})]})})}),(0,n.jsxs)(Y.A,{children:[(0,n.jsx)(M.A,{"data-tid":"switchAdvancedModeTID",expandIcon:(0,n.jsx)(o.mS,{}),"aria-controls":"panelAdvanced-content",id:"panelAdvanced-header",children:(0,n.jsx)(ne.A,{children:t("core:switchAdvanced")})}),(0,n.jsx)(_.A,{children:(0,n.jsxs)(J.A,{children:[(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{disabled:!K.C,"data-tid":"changeReadOnlyMode",name:"isReadOnly",checked:Qe,onChange:e=>$e(e.target.checked)}),label:(0,n.jsxs)(n.Fragment,{children:[t("core:readonlyModeSwitch"),(0,n.jsx)(r.ad,{})]})}),(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{"data-tid":"locationSettingsGenThumbsTID",name:"locationSettingsGenThumbs",checked:ot,onChange:e=>it(e.target.checked)}),label:(0,n.jsx)(n.Fragment,{children:t("core:disableThumbnailGeneration")})}),(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{disabled:!K.C,"data-tid":"disableIndexingTID",name:"disableIndexing",checked:tt,onChange:e=>at(e.target.checked)}),label:(0,n.jsxs)(n.Fragment,{children:[t("core:disableIndexing"),(0,n.jsx)(r.ad,{})]})}),(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(te.A,{disabled:!K.C,"data-tid":"reloadOnFocusTID",name:"reloadOnFocus",checked:nt,onChange:e=>st(e.target.checked)}),label:(0,n.jsxs)(n.Fragment,{children:[t("core:reloadOnFocus"),(0,n.jsx)(l.A,{tooltip:t("Reloads the current folder, when the app regains focus in order to show changes which may have happened in the background.")}),(0,n.jsx)(r.ad,{})]})}),(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(h.A,{name:"maxIndexAge",style:{width:100},type:"number","data-tid":"maxIndexAgeTID",slotProps:{input:{inputMode:"numeric",min:0}},value:Ee/6e4,onChange:e=>function(e){if(e){const t=parseInt(e,10);Fe(1e3*t*60)}}(e.target.value)}),label:(0,n.jsxs)(ne.A,{children:[t("core:maxIndexAge"),(0,n.jsx)(l.A,{tooltip:t("core:maxIndexAgeHelp")})]})}),vt===ie.locationType.TYPE_CLOUD&&(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(x.A,{maxLoops:Re,changeMaxLoops:function(e){const t=e.target.value;t&&Ke(parseInt(t,10))}}),label:(0,n.jsxs)(ne.A,{children:[t("core:maxLoops"),(0,n.jsx)(l.A,{tooltip:t("core:maxLoopsHelp")})]})}),s.A.useSidecarsForFileTaggingDisableSetting?(0,n.jsx)(G.A,{labelPlacement:"start",style:{justifyContent:"space-between",marginLeft:0},control:(0,n.jsx)(c.A,{disabled:!0,children:t($t?"core:useSidecarFile":"core:renameFile")}),label:(0,n.jsx)(ne.A,{variant:"caption",display:"block",gutterBottom:!0,children:t("core:fileTaggingSetting")})}):(0,n.jsx)(G.A,{labelPlacement:"top",style:{alignItems:"start",marginBottom:10,marginLeft:0},control:(0,n.jsxs)(ae.A,{value:yt,size:"small",exclusive:!0,children:[(0,n.jsx)(he.A,{value:null!==yt&&yt,style:{borderTopRightRadius:0,borderBottomRightRadius:0},tooltip:t("core:useDefaultTaggingType")+": "+t($t?"core:useSidecarFile":"core:renameFile"),"data-tid":"settingsSetPersistTagsDefault",onClick:()=>ft(null),children:(0,n.jsxs)("div",{style:{display:"flex"},children:[null===yt&&(0,n.jsx)(B.A,{})," ",t("core:defaultSetting"),"  "]})}),(0,n.jsx)(he.A,{value:!1,style:{borderRadius:0},"data-tid":"locationSetPersistTagsInFileName",tooltip:t("core:tagsInFilenameExplanation"),onClick:()=>ft(!1),children:(0,n.jsxs)("div",{style:{display:"flex"},children:[null!==yt&&!yt&&(0,n.jsx)(B.A,{})," ",t("core:renameFile"),"  "]})}),(0,n.jsx)(he.A,{value:!0,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},"data-tid":"locationSetPersistTagsInSidecarFile",tooltip:t("core:tagsInSidecarFileExplanation"),onClick:()=>ft(!0),children:(0,n.jsxs)("div",{style:{display:"flex"},children:[null!==yt&&yt&&(0,n.jsx)(B.A,{})," ",t("core:useSidecarFile"),"  "]})})]}),label:(0,n.jsx)(ne.A,{gutterBottom:!0,children:t("core:fileTaggingSetting")})}),(0,n.jsx)(j.A,{fullWidth:!0,children:(0,n.jsx)(h.A,{name:"autoOpenedFilename","data-tid":"autoOpenedFilenameTID",placeholder:t("core:forExample")+": index.md, index.html or readme.md",onChange:e=>wt(e.target.value),updateValue:e=>{wt(e)},retrieveValue:()=>St,value:St,label:t("core:autoOpenedFilename")})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G.A,{disabled:!K.C,labelPlacement:"start",style:{justifyContent:"space-between",marginTop:15,marginLeft:0,marginRight:0},control:(0,n.jsx)(r.dH,{tooltip:t("ignorePatternDialogTitle"),children:(0,n.jsx)(c.A,{disabled:!K.C,onClick:()=>{zt(!0)},style:{marginBottom:s.A.defaultSpaceBetweenButtons},children:t("addEntryTags")})}),label:(0,n.jsxs)(ne.A,{children:[t("core:ignorePatterns"),(0,n.jsx)(l.A,{tooltip:t("core:ignorePatternsHelp")}),(0,n.jsx)(r.ad,{})]})}),Wt&&Wt.length>0&&(0,n.jsx)(X.A,{style:{padding:5,backgroundColor:"#d3d3d34a",borderRadius:10},dense:!0,children:Wt.map(e=>(0,n.jsxs)(Q.Ay,{style:{padding:0},children:[(0,n.jsx)(Z.A,{primary:e}),(0,n.jsx)($.A,{style:{minWidth:0},title:t("core:ignorePatternRemove"),onClick:()=>{const t=[...Wt],a=t.indexOf(e);-1!==a&&(t.splice(a,1),Ut(t))},children:(0,n.jsx)(o.YP,{})})]}))}),xe&&(0,n.jsx)(xe,{open:Bt,onClose:()=>zt(!1),ignorePatternPaths:Wt,setIgnorePatternPaths:Ut,location:I})]}),(0,n.jsx)(j.A,{fullWidth:!0,style:{marginTop:10},children:(0,n.jsx)(h.A,{required:!0,name:"newuuid","data-tid":"newuuid",placeholder:"Unique location identifier",onChange:e=>_t(e.target.value),value:Pt,label:t("core:locationId"),updateValue:e=>{_t(e)},slotProps:{input:{endAdornment:(0,n.jsx)(b.A,{position:"end",style:{height:32},children:(0,n.jsx)(d.A,{tooltip:t("core:generateNewLocationId"),onClick:()=>{confirm("Changing the identifier of a location, will invalidate all the internal sharing links (tslinks) leading to files and folders in this location. Do you want to continue?")&&_t((0,re.getUuid)())},children:(0,n.jsx)(o.J,{})})})}}})})]})})]}),vt===ie.locationType.TYPE_CLOUD&&(0,n.jsxs)(Y.A,{children:[(0,n.jsx)(M.A,{"data-tid":"switchEncryptionTID",expandIcon:(0,n.jsx)(o.mS,{}),"aria-controls":"panelEncryption-content",id:"panelEncryption-header",children:(0,n.jsxs)(ne.A,{children:[t("core:switchEncryption"),(0,n.jsx)(r.Xc,{})]})}),(0,n.jsx)(_.A,{children:(0,n.jsxs)(j.A,{fullWidth:!0,children:[(0,n.jsx)(H.A,{style:{marginBottom:15},children:t("encryptionExplanation")}),(0,n.jsx)(h.A,{name:"encryptionKey",type:Ae?"text":"password","data-tid":"encryptionKeyTID",placeholder:t("encryptionKeyExplanation"),onChange:e=>Ve(e.target.value),value:He,updateValue:e=>{Ve(e)},retrieveValue:()=>He,label:t("core:encryptionKey"),slotProps:{input:{autoCorrect:"off",autoCapitalize:"none",endAdornment:(0,n.jsxs)(b.A,{position:"end",children:[(0,n.jsx)(d.A,{tooltip:t("toggleKeyVisibility"),"aria-label":"toggle key visibility",onClick:()=>je(!Ae),children:Ae?(0,n.jsx)(g,{}):(0,n.jsx)(m,{})}),(0,n.jsx)(d.A,{tooltip:t("generateEncryptionKey"),"aria-label":"generate encryption key",onClick:()=>Ve(ce().lib.WordArray.random(32).toString(ce().enc.Hex).slice(0,32)),children:(0,n.jsx)(z,{})})]})}}})]})})]})]}),!ta&&(0,n.jsxs)(L.A,{children:[(0,n.jsx)(c.A,{onClick:()=>Gt(),children:t("core:cancel")}),na]})]})}},75769:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(74848),s=(a(96540),a(37603)),o=a(8039);const i=function(e){const{maxLoops:t,changeMaxLoops:a}=e;return(0,n.jsxs)(o.A,{"data-tid":"maxLoopsTID",name:"maxLoops",fullWidth:!1,onChange:a,value:t,style:{minWidth:100},children:[(0,n.jsx)(s.A,{value:"1",children:(0,n.jsx)("span",{children:"1000"})}),(0,n.jsx)(s.A,{value:"2",children:(0,n.jsx)("span",{children:"2000"})}),(0,n.jsx)(s.A,{value:"5",children:(0,n.jsx)("span",{children:"5000"})}),(0,n.jsx)(s.A,{value:"10",children:(0,n.jsx)("span",{children:"10000"})}),(0,n.jsx)(s.A,{value:"20",children:(0,n.jsx)("span",{children:"20000"})}),(0,n.jsx)(s.A,{value:"50",children:(0,n.jsx)("span",{children:"50000"})}),(0,n.jsx)(s.A,{value:"100",children:(0,n.jsx)("span",{children:"100000"})}),(0,n.jsx)(s.A,{value:"150",children:(0,n.jsx)("span",{children:"150000"})}),(0,n.jsx)(s.A,{value:"200",children:(0,n.jsx)("span",{children:"200000"})})]})}}}]);
//# sourceMappingURL=5862.bundle.js.map