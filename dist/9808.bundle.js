"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[9808],{31952:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var o=r(74848),a=r(87729),n=r(38291),c=r(7544),i=r(10812),l=r(45575),s=r(34120),d=r(70704),u=r(14562),h=r(36749),p=r(69605),f=r(2788);const g=(0,r(16290).A)((0,o.jsx)("path",{d:"M17.66 8 12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8M6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14z"}),"OpacityOutlined");var A=r(26410),y=r(22944),k=r(55370),C=r(49565),x=r(25418),j=r(91799),m=r(87714),b=r(88634),D=r(34477),v=r(26739),w=r(53356),N=r(77118),P=r(96540),S=r(32389);const T=(0,v.Ay)(i.A)(({theme:e})=>({[`& .${A.A.root}`]:{height:200}})),I=function(e){const{t}=(0,S.Bd)(),{createDirectory:r,setBackgroundColorChange:A}=(0,h.E)(),{currentLocation:v}=(0,d.L)(),{currentDirectoryPath:I,getAllPropertiesPromise:B}=(0,u.L)(),{showNotification:E}=(0,p.M)(),[L,M]=(0,P.useState)(!1),W=(0,P.useRef)("transparent"),[F,O]=(0,P.useState)(!0),[R,V]=(0,P.useState)(""),[K,z]=(0,P.useReducer)(e=>e+1,0,void 0),{open:H,onClose:$,selectedDirectoryPath:q,skipSelection:G}=e;function J(e){(0,f.KA)(e)?(M(!0),O(!0)):(M(!1),O(!1))}function Q(){if(J(R),!F&&R){const t=(0,N.joinPaths)(v.getDirSeparator(),void 0!==q?q:I,R);v.checkDirExist(t).then(o=>{o?E("Directory "+t+" exist!"):r(t,v.uuid,!0,!0,G).then(()=>{e.callback&&e.callback(t),"transparent"!==W.current&&B(t).then(e=>A(e,W.current))})}),U(),e.onClose()}}function U(){V(""),M(!1),O(!0)}const X=(0,w.A)(),Y=(0,y.A)(X.breakpoints.down("md")),Z=(0,o.jsx)(n.A,{disabled:F,onClick:Q,"data-tid":"confirmCreateNewDirectory",id:"confirmCreateNewDirectory",variant:"contained",style:{WebkitAppRegion:"no-drag"},children:t("core:ok")});return(0,o.jsxs)(k.A,{open:H,onClose:$,fullScreen:Y,PaperComponent:Y?C.A:a.A,keepMounted:!0,scroll:"paper",onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),Q()):"Escape"===e.key&&$()},children:[(0,o.jsx)(s.A,{dialogTitle:t("core:createNewDirectoryTitle"),closeButtonTestId:"closeCreateDirectoryTID",onClose:$,actionSlot:Z}),(0,o.jsxs)(x.A,{children:[(0,o.jsxs)(j.A,{fullWidth:!0,error:L,children:[(0,o.jsx)(i.A,{error:L,autoFocus:!0,fullWidth:!0,name:"name",label:t("core:folderName"),onChange:e=>{const{target:t}=e;J(t.value),V(t.value)},updateValue:e=>{V(e)},retrieveValue:()=>R,value:R,"data-tid":"directoryName",id:"directoryName"}),L&&(0,o.jsx)(m.A,{children:t("core:directoryNameHelp")})]}),(0,o.jsx)(j.A,{fullWidth:!0,children:(0,o.jsx)(T,{"data-tid":"folderColorTID",label:t("backgroundColor"),retrieveValue:()=>W.current,value:" ",style:{marginTop:0},slotProps:{input:{readOnly:!0,endAdornment:(0,o.jsx)(b.A,{position:"end",style:{height:300},children:(0,o.jsx)(D.A,{style:{padding:10,width:300},children:["transparent","#ac725e44","#f83a2244","#ffad4644","#42d69244","#7bd14844","#fad16544","#92e1c044","#9fe1e744","#9fc6e744","#4986e744","#9a9cff44","#c2c2c244","#cca6ac44","#f691b244"].map((e,t)=>(0,o.jsxs)(P.Fragment,{children:[(0,o.jsx)(c.A,{tooltip:e,"data-tid":"bgTID"+t,"aria-label":"changeFolderBackground",onClick:()=>{W.current=e,z()},style:{backgroundColor:e,backgroundImage:e,margin:5,...W.current===e&&{border:"0.5rem outset "+e}},children:(0,o.jsx)(g,{})}),(t+1)%5==0&&(0,o.jsx)("br",{})]},t))})})}}})})]}),!Y&&(0,o.jsxs)(l.A,{children:[(0,o.jsx)(n.A,{"data-tid":"closeCreateNewDirectory",onClick:function(){U(),$()},children:t("core:cancel")}),Z]})]})}}}]);
//# sourceMappingURL=9808.bundle.js.map