"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[9777],{36120:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var o=n(74848),a=n(87729),i=n(38291),r=n(45575),s=n(34120),l=n(90236),c=n(70704),d=n(14562),p=n(4120),h=n(36749),u=n(2788),m=n(79101),v=n(55370),g=n(25418),A=n(30073),x=n(7527),j=n(12070),f=n(49565),y=n(35124),C=n(53356),D=n(22944),b=n(77118),k=n(32389);const F=function(e){const{open:t,onClose:n,selectedFiles:F,targetLocationId:M}=e,{t:P}=(0,k.Bd)(),T=(0,C.A)(),{handleEntryExist:w}=(0,l.m)(),{setReflectMetaActions:E}=(0,p.B)(),{findLocation:B}=(0,c.L)(),{moveFiles:I,copyFiles:L}=(0,h.E)(),{currentDirectoryPath:S,sendDirMessage:N}=(0,d.L)(),O=(0,D.A)(T.breakpoints.down("md")),G=e.targetDir?e.targetDir:S,R=B(M);function W(e){const t=e.map(e=>R.getPropertiesPromise(e).then(e=>({action:"thumbGenerate",entry:e})));(0,u.$)(t).then(e=>{E(...e)})}return(0,o.jsxs)(v.A,{open:t&&F&&F.length>0,onClose:n,keepMounted:!0,scroll:"paper","aria-labelledby":"draggable-dialog-title",PaperComponent:O?f.A:a.A,fullScreen:O,children:[(0,o.jsx)(s.A,{dialogTitle:P("core:copyMoveEntriesTitle"),closeButtonTestId:"closeMoveOrCopyTID",onClose:n}),(0,o.jsxs)(g.A,{style:{overflowX:"hidden",overflowY:"auto"},children:[(0,o.jsx)(y.A,{variant:"subtitle2",children:P("core:moveCopyToPath")+": "+G}),(0,o.jsx)(y.A,{variant:"subtitle2",children:P("selectedFiles")}),(0,o.jsx)(A.A,{dense:!0,style:{width:550,marginLeft:-15},children:F&&F.length>0&&F.map(e=>(0,o.jsxs)(x.Ay,{title:e.path,children:[(0,o.jsx)(j.A,{children:(0,o.jsx)(m.A,{})}),(0,o.jsx)(y.A,{variant:"inherit",noWrap:!0,children:e.name})]},e.path))})]}),(0,o.jsxs)(r.A,{children:[(0,o.jsx)(i.A,{"data-tid":"closeMoveOrCopyDialog",onClick:()=>n(),children:P("core:cancel")}),(0,o.jsx)(i.A,{onClick:()=>{if(F){const e=()=>{var e;e=F.map(e=>e.path),I(e,G,R.uuid,void 0,!0,!0).then(t=>(t&&(N("moveFiles",e),W(e.map(e=>(0,b.joinPaths)(R?.getDirSeparator(),G,(0,b.extractFileName)(e,R?.getDirSeparator()))))),!0))};w(F,G,M,e)}n()},"data-tid":"confirmMoveFilesTID",variant:"contained",children:P("core:moveEntriesButton")}),(0,o.jsx)(i.A,{onClick:()=>{if(F){const e=()=>{var e;e=F.map(e=>e.path),L(e,G,R.uuid).then(t=>(t&&W(e.map(e=>(0,b.joinPaths)(R?.getDirSeparator(),G,(0,b.extractFileName)(e,R?.getDirSeparator())))),!0))};w(F,G,M,e)}n()},"data-tid":"confirmCopyFilesTID",variant:"contained",children:P("core:copyEntriesButton")})]})]})}},90236:(e,t,n)=>{n.d(t,{m:()=>i});var o=n(96540),a=n(12924);const i=()=>(0,o.useContext)(a.j)}}]);
//# sourceMappingURL=9777.bundle.js.map