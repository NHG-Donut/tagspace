"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[2547],{47382:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var o=a(74848),s=a(96540),r=a(87729),c=a(62300),i=a(76320),n=a(55370),l=a(25418),g=a(85916),d=a(32389),p=a(45575),u=a(38291),m=a(19825),h=a(2788),T=a(62840),C=a(50456),I=a(70704),f=a(69605),j=a(87788);const x=function(e){const{t}=(0,d.Bd)(),{open:a,onClose:x,directoryPath:A}=e,{openProgressDialog:b,closeProgressDialog:v}=(0,T.u)(),{showNotification:y}=(0,f.M)(),{currentLocation:k}=(0,I.L)(),{addTags:M}=(0,C.f)(),D=(0,s.useRef)(!1),[P,R]=(0,s.useReducer)(e=>e+1,0,void 0);return(0,o.jsxs)(n.A,{"aria-labelledby":"draggable-dialog-title",PaperComponent:r.A,open:a,onClose:x,style:{minHeight:200},children:[(0,o.jsxs)(g.A,{style:{cursor:"move",minHeight:20},"data-tid":"ImportMacTagDialogTitle",id:"draggable-dialog-title",children:[t("core:ImportMacTags"),(0,o.jsx)(c.A,{testId:"closeImportMacTagTID",onClose:x})]}),(0,o.jsxs)(l.A,{children:[(0,o.jsx)("div",{style:{margin:20},children:t("core:importMacTagsHelp")}),(0,o.jsx)(j.A,{labelPlacement:"start",control:(0,o.jsx)(i.A,{"data-tid":"importTagsRecursiveTID",checked:D.current,onChange:e=>{D.current=e.target.checked,R()},size:"small",name:"importTagsRecursive"}),label:t("core:importTagsRecursive")})]}),(0,o.jsxs)(p.A,{style:{justifyContent:"space-between"},children:[(0,o.jsx)(u.A,{"data-tid":"cancelImportTagsTID",onClick:()=>{x()},children:t("core:cancel")}),(0,o.jsx)(u.A,{"data-tid":"createTID",variant:"contained",onClick:()=>{!function(){if(!(m.C&&m.C.MacTagsImport&&m.C.MacTagsImport.importTags))return y(t("core:thisFunctionalityIsAvailableInPro"),"default",!0),!0;{x(),b("importingMacTags");const e=e=>{(0,h.$c)(e.path).then(t=>(t.length>0&&M([e],t),t)).catch(e=>{console.log("Error creating tags: "+e)})};m.C.MacTagsImport.importTags(A,k.listDirectoryPromise,e,D.current).then(()=>(v(),console.log("Import tags succeeded "+A),y("Tags from "+A+" are imported successfully.","default",!0),!0)).catch(e=>{console.log("Error importing tags: "+A,e),v()})}}()},children:t("core:ok")})]})]})}},62840:(e,t,a)=>{a.d(t,{u:()=>r});var o=a(96540),s=a(48884);const r=()=>(0,o.useContext)(s.H)}}]);
//# sourceMappingURL=2547.bundle.js.map